<app-comp-header></app-comp-header>
<div class="page-content">
  <div class="form-v7-content">
    <form [formGroup]="form" class="form-detail" id="myform">
      <div class="wrap">
        <div class="f1">
          <div class="form-group">
            <label for="title"
              >Title
              </label
            >
            <input
              type="text"
              [(ngModel)]="offer.title"
              [ngModelOptions]="{ standalone: true }"
              id="offre_title"
              *ngIf="currentOffer"
              class="input-text"
            />
          </div>

        </div>
        <div class="f2">
          <div class="form-group">
            <label for="offer_type">Type</label>
            <select
              formControlName="offer_type"
              class="form-control"
              (change)="changeOfferType($event)"
            >
              <option disabled>Select Type</option>
              <option *ngFor="let t of type">{{ t.name }}</option>
            </select>
          </div>
        </div>
      </div>

      <div class="form-group skill">
        <label for="title">Skills</label>
        <button
          type="button"
          class="btn btn-outline-info btngroup"
          (click)="triggerModal(modalData)"
        >
          Add
        </button>
        <h3>
          <span class="badge badge-primary" *ngFor="let s of skills">{{
            s.name
          }}</span>
        </h3>
      </div>

      <div class="form-row">
        <label for="title">Company's name</label>
        <input
          type="text"
          [(ngModel)]="offer.entreprise_name"
          [ngModelOptions]="{ standalone: true }"
          value="{{ company_name }}"
          id="entreprise_name"
          class="input-text"
        />

      </div>
      <div class="form-row">
        <label for="title">Description</label>
        <input
          type="text"
          [(ngModel)]="offer.description"
          [ngModelOptions]="{ standalone: true }"
          id="description"
          value="{{ offer.description }}"
          class="input-text"
        />

      </div>

      <div class="wrap">
        <div class="f1">
          <div class="form-row">
            <label for="title">Link</label>
            <input
              type="text"
              [(ngModel)]="offer.link"
              [ngModelOptions]="{ standalone: true }"
              id="link"
              value="{{ offer.link }}"
              class="input-text"
            />
          </div>
        </div>
        <div class="f2">
          <div class="form-row">
            <label for="">City</label>
            <input
              type="text"
              [(ngModel)]="offer.city"
              [ngModelOptions]="{ standalone: true }"
              id="city"
              value="{{ offer.city }}"
              class="input-text"
            />

          </div>
        </div>
      </div>

      <div class="job-right my-4 flex-shrink-0">
              <div class="a2 btn d-block w-100 d-sm-inline-block btn-light">
                <div class="a2" (click)="onEditOffer(offer.id)" >Edit Offer</div>
              </div>
            </div>
    </form>

    <ng-template #modalData let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">New Skill</h4>
        <button
          type="button"
          class="close"
          aria-label="Close"
          (click)="modal.dismiss('Cross click')"
        >
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form">
          <div class="wrap">
            <div class="f1">
              <label for="">Name</label>
              <input
                [(ngModel)]="skill.name"
                class="form-control"
                placeholder="name"
                required
              />
              <span class="focus-input"></span>
            </div>
            <button class="btn btn-success" (click)="onAddSkills()">Add</button>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger"
          (click)="modal.close('Save click')"
        >
          Close
        </button>
      </div>
    </ng-template>
  </div>
</div>
